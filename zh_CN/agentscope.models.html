<!-- layout.html -->
<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Models package &mdash; AgentScope  文档</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=c9484b72" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=7d86a446"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/translations.js?v=beaddf03"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="next" title="Pipelines package" href="agentscope.pipelines.html" />
    <link rel="prev" title="Memory package" href="agentscope.memory.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" > 

          
          
          <a href="index.html" class="icon icon-home">
            AgentScope
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div> <!-- language_selector.html -->
<div class="language-selector">
    <a href="../en/agentscope.models.html">English</a></li> |
    <a href="../zh_CN/agentscope.models.html">中文</a></li>
</div> 
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <p class="caption" role="heading"><span class="caption-text">AgentScope 教程</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial/quick_start.html">快速上手</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/advance.html">进阶使用</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/contribute.html">参与贡献</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">AgentScope API 文档</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="agentscope.agents.html">Agents package</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.memory.html">Memory package</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Models package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-agentscope.models.config">config module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-agentscope.models.model">model module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.model.ModelWrapperBase"><code class="docutils literal notranslate"><span class="pre">ModelWrapperBase</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.model.ModelWrapperBase.config_name"><code class="docutils literal notranslate"><span class="pre">ModelWrapperBase.config_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.model.ModelWrapperBase.deprecated_type_registry"><code class="docutils literal notranslate"><span class="pre">ModelWrapperBase.deprecated_type_registry</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.model.ModelWrapperBase.format"><code class="docutils literal notranslate"><span class="pre">ModelWrapperBase.format()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.model.ModelWrapperBase.model_name"><code class="docutils literal notranslate"><span class="pre">ModelWrapperBase.model_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.model.ModelWrapperBase.model_type"><code class="docutils literal notranslate"><span class="pre">ModelWrapperBase.model_type</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.model.ModelWrapperBase.registry"><code class="docutils literal notranslate"><span class="pre">ModelWrapperBase.registry</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.model.ModelWrapperBase.type_registry"><code class="docutils literal notranslate"><span class="pre">ModelWrapperBase.type_registry</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.model.ModelWrapperBase.update_monitor"><code class="docutils literal notranslate"><span class="pre">ModelWrapperBase.update_monitor()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-agentscope.models.dashscope_model">dashscope_model module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.dashscope_model.DashScopeChatWrapper"><code class="docutils literal notranslate"><span class="pre">DashScopeChatWrapper</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.dashscope_model.DashScopeChatWrapper.deprecated_model_type"><code class="docutils literal notranslate"><span class="pre">DashScopeChatWrapper.deprecated_model_type</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.dashscope_model.DashScopeChatWrapper.format"><code class="docutils literal notranslate"><span class="pre">DashScopeChatWrapper.format()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.dashscope_model.DashScopeChatWrapper.model_type"><code class="docutils literal notranslate"><span class="pre">DashScopeChatWrapper.model_type</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.dashscope_model.DashScopeImageSynthesisWrapper"><code class="docutils literal notranslate"><span class="pre">DashScopeImageSynthesisWrapper</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.dashscope_model.DashScopeImageSynthesisWrapper.model_type"><code class="docutils literal notranslate"><span class="pre">DashScopeImageSynthesisWrapper.model_type</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.dashscope_model.DashScopeMultiModalWrapper"><code class="docutils literal notranslate"><span class="pre">DashScopeMultiModalWrapper</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.dashscope_model.DashScopeMultiModalWrapper.format"><code class="docutils literal notranslate"><span class="pre">DashScopeMultiModalWrapper.format()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.dashscope_model.DashScopeMultiModalWrapper.model_type"><code class="docutils literal notranslate"><span class="pre">DashScopeMultiModalWrapper.model_type</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.dashscope_model.DashScopeTextEmbeddingWrapper"><code class="docutils literal notranslate"><span class="pre">DashScopeTextEmbeddingWrapper</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.dashscope_model.DashScopeTextEmbeddingWrapper.model_type"><code class="docutils literal notranslate"><span class="pre">DashScopeTextEmbeddingWrapper.model_type</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.dashscope_model.DashScopeWrapperBase"><code class="docutils literal notranslate"><span class="pre">DashScopeWrapperBase</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.dashscope_model.DashScopeWrapperBase.config_name"><code class="docutils literal notranslate"><span class="pre">DashScopeWrapperBase.config_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.dashscope_model.DashScopeWrapperBase.format"><code class="docutils literal notranslate"><span class="pre">DashScopeWrapperBase.format()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.dashscope_model.DashScopeWrapperBase.model_name"><code class="docutils literal notranslate"><span class="pre">DashScopeWrapperBase.model_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.dashscope_model.DashScopeWrapperBase.model_type"><code class="docutils literal notranslate"><span class="pre">DashScopeWrapperBase.model_type</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-agentscope.models.openai_model">openai_model module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.openai_model.OpenAIChatWrapper"><code class="docutils literal notranslate"><span class="pre">OpenAIChatWrapper</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.openai_model.OpenAIChatWrapper.deprecated_model_type"><code class="docutils literal notranslate"><span class="pre">OpenAIChatWrapper.deprecated_model_type</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.openai_model.OpenAIChatWrapper.format"><code class="docutils literal notranslate"><span class="pre">OpenAIChatWrapper.format()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.openai_model.OpenAIChatWrapper.model_type"><code class="docutils literal notranslate"><span class="pre">OpenAIChatWrapper.model_type</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.openai_model.OpenAIDALLEWrapper"><code class="docutils literal notranslate"><span class="pre">OpenAIDALLEWrapper</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.openai_model.OpenAIDALLEWrapper.model_type"><code class="docutils literal notranslate"><span class="pre">OpenAIDALLEWrapper.model_type</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.openai_model.OpenAIEmbeddingWrapper"><code class="docutils literal notranslate"><span class="pre">OpenAIEmbeddingWrapper</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.openai_model.OpenAIEmbeddingWrapper.model_type"><code class="docutils literal notranslate"><span class="pre">OpenAIEmbeddingWrapper.model_type</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.openai_model.OpenAIWrapperBase"><code class="docutils literal notranslate"><span class="pre">OpenAIWrapperBase</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.openai_model.OpenAIWrapperBase.config_name"><code class="docutils literal notranslate"><span class="pre">OpenAIWrapperBase.config_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.openai_model.OpenAIWrapperBase.format"><code class="docutils literal notranslate"><span class="pre">OpenAIWrapperBase.format()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.openai_model.OpenAIWrapperBase.model_name"><code class="docutils literal notranslate"><span class="pre">OpenAIWrapperBase.model_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.openai_model.OpenAIWrapperBase.model_type"><code class="docutils literal notranslate"><span class="pre">OpenAIWrapperBase.model_type</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-agentscope.models.ollama_model">ollama_model module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.ollama_model.OllamaChatWrapper"><code class="docutils literal notranslate"><span class="pre">OllamaChatWrapper</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.ollama_model.OllamaChatWrapper.format"><code class="docutils literal notranslate"><span class="pre">OllamaChatWrapper.format()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.ollama_model.OllamaChatWrapper.model_type"><code class="docutils literal notranslate"><span class="pre">OllamaChatWrapper.model_type</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.ollama_model.OllamaEmbeddingWrapper"><code class="docutils literal notranslate"><span class="pre">OllamaEmbeddingWrapper</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.ollama_model.OllamaEmbeddingWrapper.format"><code class="docutils literal notranslate"><span class="pre">OllamaEmbeddingWrapper.format()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.ollama_model.OllamaEmbeddingWrapper.model_type"><code class="docutils literal notranslate"><span class="pre">OllamaEmbeddingWrapper.model_type</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.ollama_model.OllamaGenerationWrapper"><code class="docutils literal notranslate"><span class="pre">OllamaGenerationWrapper</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.ollama_model.OllamaGenerationWrapper.format"><code class="docutils literal notranslate"><span class="pre">OllamaGenerationWrapper.format()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.ollama_model.OllamaGenerationWrapper.model_type"><code class="docutils literal notranslate"><span class="pre">OllamaGenerationWrapper.model_type</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.ollama_model.OllamaWrapperBase"><code class="docutils literal notranslate"><span class="pre">OllamaWrapperBase</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.ollama_model.OllamaWrapperBase.keep_alive"><code class="docutils literal notranslate"><span class="pre">OllamaWrapperBase.keep_alive</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.ollama_model.OllamaWrapperBase.model_name"><code class="docutils literal notranslate"><span class="pre">OllamaWrapperBase.model_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.ollama_model.OllamaWrapperBase.model_type"><code class="docutils literal notranslate"><span class="pre">OllamaWrapperBase.model_type</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.ollama_model.OllamaWrapperBase.options"><code class="docutils literal notranslate"><span class="pre">OllamaWrapperBase.options</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-agentscope.models.gemini_model">gemini_model module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.gemini_model.GeminiChatWrapper"><code class="docutils literal notranslate"><span class="pre">GeminiChatWrapper</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.gemini_model.GeminiChatWrapper.format"><code class="docutils literal notranslate"><span class="pre">GeminiChatWrapper.format()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.gemini_model.GeminiChatWrapper.generation_method"><code class="docutils literal notranslate"><span class="pre">GeminiChatWrapper.generation_method</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.gemini_model.GeminiChatWrapper.model_type"><code class="docutils literal notranslate"><span class="pre">GeminiChatWrapper.model_type</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.gemini_model.GeminiEmbeddingWrapper"><code class="docutils literal notranslate"><span class="pre">GeminiEmbeddingWrapper</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.gemini_model.GeminiEmbeddingWrapper.model_type"><code class="docutils literal notranslate"><span class="pre">GeminiEmbeddingWrapper.model_type</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.gemini_model.GeminiWrapperBase"><code class="docutils literal notranslate"><span class="pre">GeminiWrapperBase</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.gemini_model.GeminiWrapperBase.config_name"><code class="docutils literal notranslate"><span class="pre">GeminiWrapperBase.config_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.gemini_model.GeminiWrapperBase.list_models"><code class="docutils literal notranslate"><span class="pre">GeminiWrapperBase.list_models()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.gemini_model.GeminiWrapperBase.model_name"><code class="docutils literal notranslate"><span class="pre">GeminiWrapperBase.model_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.gemini_model.GeminiWrapperBase.model_type"><code class="docutils literal notranslate"><span class="pre">GeminiWrapperBase.model_type</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-agentscope.models.post_model">post_model module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.post_model.PostAPIChatWrapper"><code class="docutils literal notranslate"><span class="pre">PostAPIChatWrapper</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.post_model.PostAPIChatWrapper.format"><code class="docutils literal notranslate"><span class="pre">PostAPIChatWrapper.format()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.post_model.PostAPIChatWrapper.model_type"><code class="docutils literal notranslate"><span class="pre">PostAPIChatWrapper.model_type</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.post_model.PostAPIDALLEWrapper"><code class="docutils literal notranslate"><span class="pre">PostAPIDALLEWrapper</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.post_model.PostAPIDALLEWrapper.deprecated_model_type"><code class="docutils literal notranslate"><span class="pre">PostAPIDALLEWrapper.deprecated_model_type</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.post_model.PostAPIDALLEWrapper.format"><code class="docutils literal notranslate"><span class="pre">PostAPIDALLEWrapper.format()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.post_model.PostAPIDALLEWrapper.model_type"><code class="docutils literal notranslate"><span class="pre">PostAPIDALLEWrapper.model_type</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.post_model.PostAPIModelWrapperBase"><code class="docutils literal notranslate"><span class="pre">PostAPIModelWrapperBase</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#agentscope.models.post_model.PostAPIModelWrapperBase.model_type"><code class="docutils literal notranslate"><span class="pre">PostAPIModelWrapperBase.model_type</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-agentscope.models">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.clear_model_configs"><code class="docutils literal notranslate"><span class="pre">clear_model_configs()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.load_model_by_config_name"><code class="docutils literal notranslate"><span class="pre">load_model_by_config_name()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.models.read_model_configs"><code class="docutils literal notranslate"><span class="pre">read_model_configs()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.pipelines.html">Pipelines package</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.service.html">Service package</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.rpc.html">RPC package</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.utils.html">Utils package</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.web.html">Web UI package</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.html">Module contents</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">AgentScope</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Models package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/agentscope.models.rst.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="models-package">
<h1>Models package<a class="headerlink" href="#models-package" title="Link to this heading"></a></h1>
<section id="module-agentscope.models.config">
<span id="config-module"></span><h2>config module<a class="headerlink" href="#module-agentscope.models.config" title="Link to this heading"></a></h2>
<p>The model config.</p>
</section>
<section id="module-agentscope.models.model">
<span id="model-module"></span><h2>model module<a class="headerlink" href="#module-agentscope.models.model" title="Link to this heading"></a></h2>
<p>The configuration file should contain one or a list of model configs,
and each model config should follow the following format.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;config_name&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{config_name}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="s2">&quot;model_type&quot;</span><span class="p">:</span> <span class="s2">&quot;openai&quot;</span> <span class="o">|</span> <span class="s2">&quot;post_api&quot;</span> <span class="o">|</span> <span class="o">...</span><span class="p">,</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>After that, you can specify model by {config_name}.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>The parameters for different types of models are different. For OpenAI API,
the format is:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;config_name&quot;</span><span class="p">:</span> <span class="s2">&quot;{id of your model}&quot;</span><span class="p">,</span>
    <span class="s2">&quot;model_type&quot;</span><span class="p">:</span> <span class="s2">&quot;openai&quot;</span><span class="p">,</span>
    <span class="s2">&quot;model_name&quot;</span><span class="p">:</span> <span class="s2">&quot;{model_name_for_openai, e.g. gpt-3.5-turbo}&quot;</span><span class="p">,</span>
    <span class="s2">&quot;api_key&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{your_api_key}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="s2">&quot;organization&quot;</span><span class="p">:</span> <span class="s2">&quot;{your_organization, if needed}&quot;</span><span class="p">,</span>
    <span class="s2">&quot;client_args&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1"># ...</span>
    <span class="p">},</span>
    <span class="s2">&quot;generate_args&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1"># ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>For Post API, toking huggingface inference API as an example, its format
is:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;config_name&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{config_name}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="s2">&quot;model_type&quot;</span><span class="p">:</span> <span class="s2">&quot;post_api&quot;</span><span class="p">,</span>
    <span class="s2">&quot;api_url&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{api_url}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="s2">&quot;headers&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="s2">&quot;Bearer </span><span class="si">{API_TOKEN}</span><span class="s2">&quot;</span><span class="p">},</span>
    <span class="s2">&quot;max_length&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">max_length_of_model</span><span class="p">},</span>
    <span class="s2">&quot;timeout&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">timeout</span><span class="p">},</span>
    <span class="s2">&quot;max_retries&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">max_retries</span><span class="p">},</span>
    <span class="s2">&quot;generate_args&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;temperature&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
        <span class="c1"># ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="agentscope.models.model.ModelWrapperBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentscope.models.model.</span></span><span class="sig-name descname"><span class="pre">ModelWrapperBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentscope/models/model.html#ModelWrapperBase"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.model.ModelWrapperBase" title="Link to this definition"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The base class for model wrapper.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.model.ModelWrapperBase.config_name">
<span class="sig-name descname"><span class="pre">config_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.models.model.ModelWrapperBase.config_name" title="Link to this definition"></a></dt>
<dd><p>The name of the model configuration.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.model.ModelWrapperBase.deprecated_type_registry">
<span class="sig-name descname"><span class="pre">deprecated_type_registry</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'openai':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.openai_model.OpenAIChatWrapper'&gt;,</span> <span class="pre">'post_api_dalle':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.post_model.PostAPIDALLEWrapper'&gt;,</span> <span class="pre">'tongyi_chat':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.dashscope_model.DashScopeChatWrapper'&gt;}</span></em><a class="headerlink" href="#agentscope.models.model.ModelWrapperBase.deprecated_type_registry" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentscope.models.model.ModelWrapperBase.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MessageBase</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">MessageBase</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></span><a class="reference internal" href="_modules/agentscope/models/model.html#ModelWrapperBase.format"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.model.ModelWrapperBase.format" title="Link to this definition"></a></dt>
<dd><p>Format the input string or dict into the format that the model
API required.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.model.ModelWrapperBase.model_name">
<span class="sig-name descname"><span class="pre">model_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.models.model.ModelWrapperBase.model_name" title="Link to this definition"></a></dt>
<dd><p>The name of the model, which is used in model api calling.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.model.ModelWrapperBase.model_type">
<span class="sig-name descname"><span class="pre">model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.models.model.ModelWrapperBase.model_type" title="Link to this definition"></a></dt>
<dd><p>The type of the model wrapper, which is to identify the model wrapper
class in model configuration.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.model.ModelWrapperBase.registry">
<span class="sig-name descname"><span class="pre">registry</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'DashScopeChatWrapper':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.dashscope_model.DashScopeChatWrapper'&gt;,</span> <span class="pre">'DashScopeImageSynthesisWrapper':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.dashscope_model.DashScopeImageSynthesisWrapper'&gt;,</span> <span class="pre">'DashScopeMultiModalWrapper':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.dashscope_model.DashScopeMultiModalWrapper'&gt;,</span> <span class="pre">'DashScopeTextEmbeddingWrapper':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.dashscope_model.DashScopeTextEmbeddingWrapper'&gt;,</span> <span class="pre">'DashScopeWrapperBase':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.dashscope_model.DashScopeWrapperBase'&gt;,</span> <span class="pre">'GeminiChatWrapper':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.gemini_model.GeminiChatWrapper'&gt;,</span> <span class="pre">'GeminiEmbeddingWrapper':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.gemini_model.GeminiEmbeddingWrapper'&gt;,</span> <span class="pre">'GeminiWrapperBase':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.gemini_model.GeminiWrapperBase'&gt;,</span> <span class="pre">'OllamaChatWrapper':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.ollama_model.OllamaChatWrapper'&gt;,</span> <span class="pre">'OllamaEmbeddingWrapper':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.ollama_model.OllamaEmbeddingWrapper'&gt;,</span> <span class="pre">'OllamaGenerationWrapper':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.ollama_model.OllamaGenerationWrapper'&gt;,</span> <span class="pre">'OllamaWrapperBase':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.ollama_model.OllamaWrapperBase'&gt;,</span> <span class="pre">'OpenAIChatWrapper':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.openai_model.OpenAIChatWrapper'&gt;,</span> <span class="pre">'OpenAIDALLEWrapper':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.openai_model.OpenAIDALLEWrapper'&gt;,</span> <span class="pre">'OpenAIEmbeddingWrapper':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.openai_model.OpenAIEmbeddingWrapper'&gt;,</span> <span class="pre">'OpenAIWrapperBase':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.openai_model.OpenAIWrapperBase'&gt;,</span> <span class="pre">'PostAPIChatWrapper':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.post_model.PostAPIChatWrapper'&gt;,</span> <span class="pre">'PostAPIDALLEWrapper':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.post_model.PostAPIDALLEWrapper'&gt;,</span> <span class="pre">'PostAPIModelWrapperBase':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.post_model.PostAPIModelWrapperBase'&gt;}</span></em><a class="headerlink" href="#agentscope.models.model.ModelWrapperBase.registry" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.model.ModelWrapperBase.type_registry">
<span class="sig-name descname"><span class="pre">type_registry</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'dashscope_chat':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.dashscope_model.DashScopeChatWrapper'&gt;,</span> <span class="pre">'dashscope_image_synthesis':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.dashscope_model.DashScopeImageSynthesisWrapper'&gt;,</span> <span class="pre">'dashscope_multimodal':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.dashscope_model.DashScopeMultiModalWrapper'&gt;,</span> <span class="pre">'dashscope_text_embedding':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.dashscope_model.DashScopeTextEmbeddingWrapper'&gt;,</span> <span class="pre">'gemini_chat':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.gemini_model.GeminiChatWrapper'&gt;,</span> <span class="pre">'gemini_embedding':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.gemini_model.GeminiEmbeddingWrapper'&gt;,</span> <span class="pre">'ollama_chat':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.ollama_model.OllamaChatWrapper'&gt;,</span> <span class="pre">'ollama_embedding':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.ollama_model.OllamaEmbeddingWrapper'&gt;,</span> <span class="pre">'ollama_generate':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.ollama_model.OllamaGenerationWrapper'&gt;,</span> <span class="pre">'openai_chat':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.openai_model.OpenAIChatWrapper'&gt;,</span> <span class="pre">'openai_dall_e':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.openai_model.OpenAIDALLEWrapper'&gt;,</span> <span class="pre">'openai_embedding':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.openai_model.OpenAIEmbeddingWrapper'&gt;,</span> <span class="pre">'post_api':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.post_model.PostAPIModelWrapperBase'&gt;,</span> <span class="pre">'post_api_chat':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.post_model.PostAPIChatWrapper'&gt;,</span> <span class="pre">'post_api_dall_e':</span> <span class="pre">&lt;class</span> <span class="pre">'agentscope.models.post_model.PostAPIDALLEWrapper'&gt;}</span></em><a class="headerlink" href="#agentscope.models.model.ModelWrapperBase.type_registry" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentscope.models.model.ModelWrapperBase.update_monitor">
<span class="sig-name descname"><span class="pre">update_monitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/agentscope/models/model.html#ModelWrapperBase.update_monitor"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.model.ModelWrapperBase.update_monitor" title="Link to this definition"></a></dt>
<dd><p>Update the monitor with the given values.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> (<cite>dict</cite>) – The values to be updated to the monitor.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-agentscope.models.dashscope_model">
<span id="dashscope-model-module"></span><h2>dashscope_model module<a class="headerlink" href="#module-agentscope.models.dashscope_model" title="Link to this heading"></a></h2>
<p>Model wrapper for DashScope models</p>
<dl class="py class">
<dt class="sig sig-object py" id="agentscope.models.dashscope_model.DashScopeChatWrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentscope.models.dashscope_model.</span></span><span class="sig-name descname"><span class="pre">DashScopeChatWrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generate_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentscope/models/dashscope_model.html#DashScopeChatWrapper"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.dashscope_model.DashScopeChatWrapper" title="Link to this definition"></a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.models.dashscope_model.DashScopeWrapperBase" title="agentscope.models.dashscope_model.DashScopeWrapperBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">DashScopeWrapperBase</span></code></a></p>
<p>The model wrapper for DashScope’s chat API, refer to
<a class="reference external" href="https://help.aliyun.com/zh/dashscope/developer-reference/api-details">https://help.aliyun.com/zh/dashscope/developer-reference/api-details</a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.dashscope_model.DashScopeChatWrapper.deprecated_model_type">
<span class="sig-name descname"><span class="pre">deprecated_model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'tongyi_chat'</span></em><a class="headerlink" href="#agentscope.models.dashscope_model.DashScopeChatWrapper.deprecated_model_type" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentscope.models.dashscope_model.DashScopeChatWrapper.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MessageBase</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">MessageBase</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span></span></span><a class="reference internal" href="_modules/agentscope/models/dashscope_model.html#DashScopeChatWrapper.format"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.dashscope_model.DashScopeChatWrapper.format" title="Link to this definition"></a></dt>
<dd><p>Format the messages for DashScope Chat API.</p>
<blockquote>
<div><p>In this format function, the input messages are formatted into a
single system messages with format “{name}: {content}” for each
message. Note this strategy maybe not suitable for all scenarios,
and developers are encouraged to implement their own prompt
engineering strategies.</p>
<p>The following is an example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">prompt</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
    <span class="n">Msg</span><span class="p">(</span><span class="s2">&quot;system&quot;</span><span class="p">,</span> <span class="s2">&quot;You&#39;re a helpful assistant&quot;</span><span class="p">,</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;system&quot;</span><span class="p">),</span>
    <span class="n">Msg</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;Hi, how can I help you?&quot;</span><span class="p">,</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">),</span>
    <span class="n">Msg</span><span class="p">(</span><span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;What&#39;s the date today?&quot;</span><span class="p">,</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The prompt will be as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;system&quot;</span><span class="p">,</span>
        <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;You&#39;re a helpful assistant&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="p">{</span>
        <span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span>
        <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">(</span>
            <span class="s2">&quot;## Dialogue History</span>
</pre></div>
</div>
</div></blockquote>
<dl class="simple">
<dt>“</dt><dd><p>“Bob: Hi, how can I help you?</p>
</dd>
</dl>
<dl>
<dt>“</dt><dd><blockquote>
<div><blockquote>
<div><blockquote>
<div><blockquote>
<div><p>“user: What’s the date today?”</p>
</div></blockquote>
<p>)</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>args (<cite>Union[MessageBase, Sequence[MessageBase]]</cite>):</dt><dd><p>The input arguments to be formatted, where each argument
should be a <cite>Msg</cite> object, or a list of <cite>Msg</cite> objects.
In distribution, placeholder is also allowed.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt><cite>List[dict]</cite>:</dt><dd><p>The formatted messages.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.dashscope_model.DashScopeChatWrapper.model_type">
<span class="sig-name descname"><span class="pre">model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'dashscope_chat'</span></em><a class="headerlink" href="#agentscope.models.dashscope_model.DashScopeChatWrapper.model_type" title="Link to this definition"></a></dt>
<dd><p>The type of the model wrapper, which is to identify the model wrapper
class in model configuration.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.models.dashscope_model.DashScopeImageSynthesisWrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentscope.models.dashscope_model.</span></span><span class="sig-name descname"><span class="pre">DashScopeImageSynthesisWrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generate_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentscope/models/dashscope_model.html#DashScopeImageSynthesisWrapper"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.dashscope_model.DashScopeImageSynthesisWrapper" title="Link to this definition"></a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.models.dashscope_model.DashScopeWrapperBase" title="agentscope.models.dashscope_model.DashScopeWrapperBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">DashScopeWrapperBase</span></code></a></p>
<p>The model wrapper for DashScope Image Synthesis API, refer to
<a class="reference external" href="https://help.aliyun.com/zh/dashscope/developer-reference/quick-start-1">https://help.aliyun.com/zh/dashscope/developer-reference/quick-start-1</a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.dashscope_model.DashScopeImageSynthesisWrapper.model_type">
<span class="sig-name descname"><span class="pre">model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'dashscope_image_synthesis'</span></em><a class="headerlink" href="#agentscope.models.dashscope_model.DashScopeImageSynthesisWrapper.model_type" title="Link to this definition"></a></dt>
<dd><p>The type of the model wrapper, which is to identify the model wrapper
class in model configuration.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.models.dashscope_model.DashScopeMultiModalWrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentscope.models.dashscope_model.</span></span><span class="sig-name descname"><span class="pre">DashScopeMultiModalWrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generate_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentscope/models/dashscope_model.html#DashScopeMultiModalWrapper"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.dashscope_model.DashScopeMultiModalWrapper" title="Link to this definition"></a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.models.dashscope_model.DashScopeWrapperBase" title="agentscope.models.dashscope_model.DashScopeWrapperBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">DashScopeWrapperBase</span></code></a></p>
<p>The model wrapper for DashScope Multimodal API, refer to
<a class="reference external" href="https://help.aliyun.com/zh/dashscope/developer-reference/tongyi-qianwen-vl-api">https://help.aliyun.com/zh/dashscope/developer-reference/tongyi-qianwen-vl-api</a></p>
<dl class="py method">
<dt class="sig sig-object py" id="agentscope.models.dashscope_model.DashScopeMultiModalWrapper.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MessageBase</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">MessageBase</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span></span></span><a class="reference internal" href="_modules/agentscope/models/dashscope_model.html#DashScopeMultiModalWrapper.format"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.dashscope_model.DashScopeMultiModalWrapper.format" title="Link to this definition"></a></dt>
<dd><p>Format the messages for DashScope Multimodal API.</p>
<blockquote>
<div><p>The multimodal API has the following requirements:
- The roles of messages must alternate between “user” and
“assistant”.
- The message with the role “system” should be the first message
in the list.</p>
<blockquote>
<div><ul class="simple">
<li><p>If the system message exists, then the second message must</p></li>
</ul>
<p>have the role “user”.</p>
</div></blockquote>
<ul class="simple">
<li><p>The last message in the list should have the role “user”.</p></li>
<li><p>In each message, more than one figure is allowed.</p></li>
</ul>
<p>With the above requirements, we format the messages as follows:
- If the first message is a system message, then we will keep it as
system prompt.
- We merge all messages into a dialogue history prompt in a single
message with the role “user”.
- When there are multiple figures in the given messages, we will
attach it to the user message by order. Note if there are multiple
figures, this strategy may cause misunderstanding for the model. For
advanced solutions, developers are encouraged to implement their own
prompt engineering strategies.</p>
<p>The following is an example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">prompt</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
    <span class="n">Msg</span><span class="p">(</span>
        <span class="s2">&quot;system&quot;</span><span class="p">,</span>
        <span class="s2">&quot;You&#39;re a helpful assistant&quot;</span><span class="p">,</span>
        <span class="n">role</span><span class="o">=</span><span class="s2">&quot;system&quot;</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="s2">&quot;figure1&quot;</span>
    <span class="p">),</span>
    <span class="n">Msg</span><span class="p">(</span>
        <span class="s2">&quot;Bob&quot;</span><span class="p">,</span>
        <span class="s2">&quot;How about this picture?&quot;</span><span class="p">,</span>
        <span class="n">role</span><span class="o">=</span><span class="s2">&quot;assistant&quot;</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="s2">&quot;figure2&quot;</span>
    <span class="p">),</span>
    <span class="n">Msg</span><span class="p">(</span>
        <span class="s2">&quot;user&quot;</span><span class="p">,</span>
        <span class="s2">&quot;It&#39;s wonderful! How about mine?&quot;</span><span class="p">,</span>
        <span class="n">role</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="s2">&quot;figure3&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The prompt will be as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;system&quot;</span><span class="p">,</span>
        <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;You are a helpful assistant&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="s2">&quot;figure1&quot;</span><span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span>
        <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="s2">&quot;figure2&quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="s2">&quot;figure3&quot;</span><span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="p">(</span>
                    <span class="s2">&quot;## Dialogue History</span>
</pre></div>
</div>
</div></blockquote>
<dl class="simple">
<dt>“</dt><dd><p>“Bob: How about this picture?</p>
</dd>
</dl>
<dl>
<dt>“</dt><dd><blockquote>
<div><blockquote>
<div><blockquote>
<div><blockquote>
<div><blockquote>
<div><blockquote>
<div><p>“user: It’s wonderful! How about mine?”</p>
</div></blockquote>
<p>)</p>
</div></blockquote>
<p>},</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<dl class="simple">
<dt>Note:</dt><dd><p>In multimodal API, the url of local files should be prefixed with
“<a class="reference external" href="file://">file://</a>”, which will be attached in this format function.</p>
</dd>
<dt>Args:</dt><dd><dl class="simple">
<dt>args (<cite>Union[MessageBase, Sequence[MessageBase]]</cite>):</dt><dd><p>The input arguments to be formatted, where each argument
should be a <cite>Msg</cite> object, or a list of <cite>Msg</cite> objects.
In distribution, placeholder is also allowed.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt><cite>List[dict]</cite>:</dt><dd><p>The formatted messages.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.dashscope_model.DashScopeMultiModalWrapper.model_type">
<span class="sig-name descname"><span class="pre">model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'dashscope_multimodal'</span></em><a class="headerlink" href="#agentscope.models.dashscope_model.DashScopeMultiModalWrapper.model_type" title="Link to this definition"></a></dt>
<dd><p>The type of the model wrapper, which is to identify the model wrapper
class in model configuration.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.models.dashscope_model.DashScopeTextEmbeddingWrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentscope.models.dashscope_model.</span></span><span class="sig-name descname"><span class="pre">DashScopeTextEmbeddingWrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generate_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentscope/models/dashscope_model.html#DashScopeTextEmbeddingWrapper"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.dashscope_model.DashScopeTextEmbeddingWrapper" title="Link to this definition"></a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.models.dashscope_model.DashScopeWrapperBase" title="agentscope.models.dashscope_model.DashScopeWrapperBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">DashScopeWrapperBase</span></code></a></p>
<p>The model wrapper for DashScope Text Embedding API.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.dashscope_model.DashScopeTextEmbeddingWrapper.model_type">
<span class="sig-name descname"><span class="pre">model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'dashscope_text_embedding'</span></em><a class="headerlink" href="#agentscope.models.dashscope_model.DashScopeTextEmbeddingWrapper.model_type" title="Link to this definition"></a></dt>
<dd><p>The type of the model wrapper, which is to identify the model wrapper
class in model configuration.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.models.dashscope_model.DashScopeWrapperBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentscope.models.dashscope_model.</span></span><span class="sig-name descname"><span class="pre">DashScopeWrapperBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generate_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentscope/models/dashscope_model.html#DashScopeWrapperBase"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.dashscope_model.DashScopeWrapperBase" title="Link to this definition"></a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.models.model.ModelWrapperBase" title="agentscope.models.model.ModelWrapperBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelWrapperBase</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>The model wrapper for DashScope API.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.dashscope_model.DashScopeWrapperBase.config_name">
<span class="sig-name descname"><span class="pre">config_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.models.dashscope_model.DashScopeWrapperBase.config_name" title="Link to this definition"></a></dt>
<dd><p>The name of the model configuration.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentscope.models.dashscope_model.DashScopeWrapperBase.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MessageBase</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">MessageBase</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></span><a class="reference internal" href="_modules/agentscope/models/dashscope_model.html#DashScopeWrapperBase.format"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.dashscope_model.DashScopeWrapperBase.format" title="Link to this definition"></a></dt>
<dd><p>Format the input string or dict into the format that the model
API required.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.dashscope_model.DashScopeWrapperBase.model_name">
<span class="sig-name descname"><span class="pre">model_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.models.dashscope_model.DashScopeWrapperBase.model_name" title="Link to this definition"></a></dt>
<dd><p>The name of the model, which is used in model api calling.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.dashscope_model.DashScopeWrapperBase.model_type">
<span class="sig-name descname"><span class="pre">model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.models.dashscope_model.DashScopeWrapperBase.model_type" title="Link to this definition"></a></dt>
<dd><p>The type of the model wrapper, which is to identify the model wrapper
class in model configuration.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-agentscope.models.openai_model">
<span id="openai-model-module"></span><h2>openai_model module<a class="headerlink" href="#module-agentscope.models.openai_model" title="Link to this heading"></a></h2>
<p>Model wrapper for OpenAI models</p>
<dl class="py class">
<dt class="sig sig-object py" id="agentscope.models.openai_model.OpenAIChatWrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentscope.models.openai_model.</span></span><span class="sig-name descname"><span class="pre">OpenAIChatWrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">organization</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generate_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">budget</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentscope/models/openai_model.html#OpenAIChatWrapper"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.openai_model.OpenAIChatWrapper" title="Link to this definition"></a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.models.openai_model.OpenAIWrapperBase" title="agentscope.models.openai_model.OpenAIWrapperBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">OpenAIWrapperBase</span></code></a></p>
<p>The model wrapper for OpenAI’s chat API.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.openai_model.OpenAIChatWrapper.deprecated_model_type">
<span class="sig-name descname"><span class="pre">deprecated_model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'openai'</span></em><a class="headerlink" href="#agentscope.models.openai_model.OpenAIChatWrapper.deprecated_model_type" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentscope.models.openai_model.OpenAIChatWrapper.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MessageBase</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">MessageBase</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/agentscope/models/openai_model.html#OpenAIChatWrapper.format"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.openai_model.OpenAIChatWrapper.format" title="Link to this definition"></a></dt>
<dd><p>Format the input string and dictionary into the format that
OpenAI Chat API required.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>args</strong> (<cite>Union[MessageBase, Sequence[MessageBase]]</cite>) – The input arguments to be formatted, where each argument
should be a <cite>Msg</cite> object, or a list of <cite>Msg</cite> objects.
In distribution, placeholder is also allowed.</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>The formatted messages in the format that OpenAI Chat API
required.</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>List[dict]</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.openai_model.OpenAIChatWrapper.model_type">
<span class="sig-name descname"><span class="pre">model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'openai_chat'</span></em><a class="headerlink" href="#agentscope.models.openai_model.OpenAIChatWrapper.model_type" title="Link to this definition"></a></dt>
<dd><p>The type of the model wrapper, which is to identify the model wrapper
class in model configuration.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.models.openai_model.OpenAIDALLEWrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentscope.models.openai_model.</span></span><span class="sig-name descname"><span class="pre">OpenAIDALLEWrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">organization</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generate_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">budget</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentscope/models/openai_model.html#OpenAIDALLEWrapper"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.openai_model.OpenAIDALLEWrapper" title="Link to this definition"></a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.models.openai_model.OpenAIWrapperBase" title="agentscope.models.openai_model.OpenAIWrapperBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">OpenAIWrapperBase</span></code></a></p>
<p>The model wrapper for OpenAI’s DALL·E API.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.openai_model.OpenAIDALLEWrapper.model_type">
<span class="sig-name descname"><span class="pre">model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'openai_dall_e'</span></em><a class="headerlink" href="#agentscope.models.openai_model.OpenAIDALLEWrapper.model_type" title="Link to this definition"></a></dt>
<dd><p>The type of the model wrapper, which is to identify the model wrapper
class in model configuration.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.models.openai_model.OpenAIEmbeddingWrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentscope.models.openai_model.</span></span><span class="sig-name descname"><span class="pre">OpenAIEmbeddingWrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">organization</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generate_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">budget</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentscope/models/openai_model.html#OpenAIEmbeddingWrapper"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.openai_model.OpenAIEmbeddingWrapper" title="Link to this definition"></a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.models.openai_model.OpenAIWrapperBase" title="agentscope.models.openai_model.OpenAIWrapperBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">OpenAIWrapperBase</span></code></a></p>
<p>The model wrapper for OpenAI embedding API.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.openai_model.OpenAIEmbeddingWrapper.model_type">
<span class="sig-name descname"><span class="pre">model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'openai_embedding'</span></em><a class="headerlink" href="#agentscope.models.openai_model.OpenAIEmbeddingWrapper.model_type" title="Link to this definition"></a></dt>
<dd><p>The type of the model wrapper, which is to identify the model wrapper
class in model configuration.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.models.openai_model.OpenAIWrapperBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentscope.models.openai_model.</span></span><span class="sig-name descname"><span class="pre">OpenAIWrapperBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">organization</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generate_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">budget</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentscope/models/openai_model.html#OpenAIWrapperBase"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.openai_model.OpenAIWrapperBase" title="Link to this definition"></a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.models.model.ModelWrapperBase" title="agentscope.models.model.ModelWrapperBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelWrapperBase</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>The model wrapper for OpenAI API.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.openai_model.OpenAIWrapperBase.config_name">
<span class="sig-name descname"><span class="pre">config_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.models.openai_model.OpenAIWrapperBase.config_name" title="Link to this definition"></a></dt>
<dd><p>The name of the model configuration.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentscope.models.openai_model.OpenAIWrapperBase.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MessageBase</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">MessageBase</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></span><a class="reference internal" href="_modules/agentscope/models/openai_model.html#OpenAIWrapperBase.format"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.openai_model.OpenAIWrapperBase.format" title="Link to this definition"></a></dt>
<dd><p>Format the input string or dict into the format that the model
API required.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.openai_model.OpenAIWrapperBase.model_name">
<span class="sig-name descname"><span class="pre">model_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.models.openai_model.OpenAIWrapperBase.model_name" title="Link to this definition"></a></dt>
<dd><p>The name of the model, which is used in model api calling.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.openai_model.OpenAIWrapperBase.model_type">
<span class="sig-name descname"><span class="pre">model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.models.openai_model.OpenAIWrapperBase.model_type" title="Link to this definition"></a></dt>
<dd><p>The type of the model wrapper, which is to identify the model wrapper
class in model configuration.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-agentscope.models.ollama_model">
<span id="ollama-model-module"></span><h2>ollama_model module<a class="headerlink" href="#module-agentscope.models.ollama_model" title="Link to this heading"></a></h2>
<p>Model wrapper for Ollama models.</p>
<dl class="py class">
<dt class="sig sig-object py" id="agentscope.models.ollama_model.OllamaChatWrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentscope.models.ollama_model.</span></span><span class="sig-name descname"><span class="pre">OllamaChatWrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_alive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'5m'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentscope/models/ollama_model.html#OllamaChatWrapper"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.ollama_model.OllamaChatWrapper" title="Link to this definition"></a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.models.ollama_model.OllamaWrapperBase" title="agentscope.models.ollama_model.OllamaWrapperBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">OllamaWrapperBase</span></code></a></p>
<p>The model wrapper for Ollama chat API.</p>
<dl class="py method">
<dt class="sig sig-object py" id="agentscope.models.ollama_model.OllamaChatWrapper.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MessageBase</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">MessageBase</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/agentscope/models/ollama_model.html#OllamaChatWrapper.format"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.ollama_model.OllamaChatWrapper.format" title="Link to this definition"></a></dt>
<dd><p>A basic strategy to format the input into the required format of
Ollama Chat API.</p>
<p>Note for ollama chat api, the content field shouldn’t be empty string.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>args</strong> (<cite>Union[MessageBase, Sequence[MessageBase]]</cite>) – The input arguments to be formatted, where each argument
should be a <cite>Msg</cite> object, or a list of <cite>Msg</cite> objects.
In distribution, placeholder is also allowed.</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>The formatted messages.</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>List[dict]</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.ollama_model.OllamaChatWrapper.model_type">
<span class="sig-name descname"><span class="pre">model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ollama_chat'</span></em><a class="headerlink" href="#agentscope.models.ollama_model.OllamaChatWrapper.model_type" title="Link to this definition"></a></dt>
<dd><p>The type of the model wrapper, which is to identify the model wrapper
class in model configuration.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.models.ollama_model.OllamaEmbeddingWrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentscope.models.ollama_model.</span></span><span class="sig-name descname"><span class="pre">OllamaEmbeddingWrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_alive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'5m'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentscope/models/ollama_model.html#OllamaEmbeddingWrapper"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.ollama_model.OllamaEmbeddingWrapper" title="Link to this definition"></a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.models.ollama_model.OllamaWrapperBase" title="agentscope.models.ollama_model.OllamaWrapperBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">OllamaWrapperBase</span></code></a></p>
<p>The model wrapper for Ollama embedding API.</p>
<dl class="py method">
<dt class="sig sig-object py" id="agentscope.models.ollama_model.OllamaEmbeddingWrapper.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MessageBase</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">MessageBase</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></span><a class="reference internal" href="_modules/agentscope/models/ollama_model.html#OllamaEmbeddingWrapper.format"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.ollama_model.OllamaEmbeddingWrapper.format" title="Link to this definition"></a></dt>
<dd><p>Format the input string or dict into the format that the model
API required.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.ollama_model.OllamaEmbeddingWrapper.model_type">
<span class="sig-name descname"><span class="pre">model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ollama_embedding'</span></em><a class="headerlink" href="#agentscope.models.ollama_model.OllamaEmbeddingWrapper.model_type" title="Link to this definition"></a></dt>
<dd><p>The type of the model wrapper, which is to identify the model wrapper
class in model configuration.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.models.ollama_model.OllamaGenerationWrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentscope.models.ollama_model.</span></span><span class="sig-name descname"><span class="pre">OllamaGenerationWrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_alive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'5m'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentscope/models/ollama_model.html#OllamaGenerationWrapper"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.ollama_model.OllamaGenerationWrapper" title="Link to this definition"></a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.models.ollama_model.OllamaWrapperBase" title="agentscope.models.ollama_model.OllamaWrapperBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">OllamaWrapperBase</span></code></a></p>
<p>The model wrapper for Ollama generation API.</p>
<dl class="py method">
<dt class="sig sig-object py" id="agentscope.models.ollama_model.OllamaGenerationWrapper.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MessageBase</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">MessageBase</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/agentscope/models/ollama_model.html#OllamaGenerationWrapper.format"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.ollama_model.OllamaGenerationWrapper.format" title="Link to this definition"></a></dt>
<dd><p>Forward the input to the model.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>args</strong> (<cite>Union[MessageBase, Sequence[MessageBase]]</cite>) – The input arguments to be formatted, where each argument
should be a <cite>Msg</cite> object, or a list of <cite>Msg</cite> objects.
In distribution, placeholder is also allowed.</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>The formatted string prompt.</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>str</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.ollama_model.OllamaGenerationWrapper.model_type">
<span class="sig-name descname"><span class="pre">model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ollama_generate'</span></em><a class="headerlink" href="#agentscope.models.ollama_model.OllamaGenerationWrapper.model_type" title="Link to this definition"></a></dt>
<dd><p>The type of the model wrapper, which is to identify the model wrapper
class in model configuration.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.models.ollama_model.OllamaWrapperBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentscope.models.ollama_model.</span></span><span class="sig-name descname"><span class="pre">OllamaWrapperBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_alive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'5m'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentscope/models/ollama_model.html#OllamaWrapperBase"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.ollama_model.OllamaWrapperBase" title="Link to this definition"></a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.models.model.ModelWrapperBase" title="agentscope.models.model.ModelWrapperBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelWrapperBase</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>The base class for Ollama model wrappers.</p>
<p>To use Ollama API, please
1. First install ollama server from <a class="reference external" href="https://ollama.com/download">https://ollama.com/download</a> and
start the server
2. Pull the model by <cite>ollama pull {model_name}</cite> in terminal
After that, you can use the ollama API.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.ollama_model.OllamaWrapperBase.keep_alive">
<span class="sig-name descname"><span class="pre">keep_alive</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.models.ollama_model.OllamaWrapperBase.keep_alive" title="Link to this definition"></a></dt>
<dd><p>Controls how long the model will stay loaded into memory following
the request.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.ollama_model.OllamaWrapperBase.model_name">
<span class="sig-name descname"><span class="pre">model_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.models.ollama_model.OllamaWrapperBase.model_name" title="Link to this definition"></a></dt>
<dd><p>The model name used in ollama API.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.ollama_model.OllamaWrapperBase.model_type">
<span class="sig-name descname"><span class="pre">model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.models.ollama_model.OllamaWrapperBase.model_type" title="Link to this definition"></a></dt>
<dd><p>The type of the model wrapper, which is to identify the model wrapper
class in model configuration.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.ollama_model.OllamaWrapperBase.options">
<span class="sig-name descname"><span class="pre">options</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#agentscope.models.ollama_model.OllamaWrapperBase.options" title="Link to this definition"></a></dt>
<dd><p>A dict contains the options for ollama generation API,
e.g. {“temperature”: 0, “seed”: 123}</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-agentscope.models.gemini_model">
<span id="gemini-model-module"></span><h2>gemini_model module<a class="headerlink" href="#module-agentscope.models.gemini_model" title="Link to this heading"></a></h2>
<p>Google Gemini model wrapper.</p>
<dl class="py class">
<dt class="sig sig-object py" id="agentscope.models.gemini_model.GeminiChatWrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentscope.models.gemini_model.</span></span><span class="sig-name descname"><span class="pre">GeminiChatWrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentscope/models/gemini_model.html#GeminiChatWrapper"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.gemini_model.GeminiChatWrapper" title="Link to this definition"></a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.models.gemini_model.GeminiWrapperBase" title="agentscope.models.gemini_model.GeminiWrapperBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeminiWrapperBase</span></code></a></p>
<p>The wrapper for Google Gemini chat model, e.g. gemini-pro</p>
<dl class="py method">
<dt class="sig sig-object py" id="agentscope.models.gemini_model.GeminiChatWrapper.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MessageBase</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">MessageBase</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/agentscope/models/gemini_model.html#GeminiChatWrapper.format"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.gemini_model.GeminiChatWrapper.format" title="Link to this definition"></a></dt>
<dd><p>This function provide a basic prompting strategy for Gemini Chat
API in multi-party conversation, which combines all input into a
single string, and wrap it into a user message.</p>
<p>We make the above decision based on the following constraints of the
Gemini generate API:</p>
<p>1. In Gemini <cite>generate_content</cite> API, the <cite>role</cite> field must be either
<cite>user</cite> or <cite>model</cite>.</p>
<p>2. If we pass a list of messages to the <cite>generate_content</cite> API,
the <cite>user</cite> role must speak in the beginning and end of the
messages, and <cite>user</cite> and <cite>model</cite> must alternative. This prevents
us to build a multi-party conversations, where <cite>model</cite> may keep
speaking in different names.</p>
<p>The above information is updated to 2024/03/21. More information
about the Gemini <cite>generate_content</cite> API can be found in
<a class="reference external" href="https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini">https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/gemini</a></p>
<p>Based on the above considerations, we decide to combine all messages
into a single user message. This is a simple and straightforward
strategy, if you have any better ideas, pull request and
discussion are welcome in our GitHub repository
<a class="reference external" href="https://github.com/agentscope/agentscope">https://github.com/agentscope/agentscope</a>!</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>args</strong> (<cite>Union[MessageBase, Sequence[MessageBase]]</cite>) – The input arguments to be formatted, where each argument
should be a <cite>Msg</cite> object, or a list of <cite>Msg</cite> objects.
In distribution, placeholder is also allowed.</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>A list with one user message.</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>List[dict]</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.gemini_model.GeminiChatWrapper.generation_method">
<span class="sig-name descname"><span class="pre">generation_method</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'generateContent'</span></em><a class="headerlink" href="#agentscope.models.gemini_model.GeminiChatWrapper.generation_method" title="Link to this definition"></a></dt>
<dd><p>The generation method used in <cite>__call__</cite> function.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.gemini_model.GeminiChatWrapper.model_type">
<span class="sig-name descname"><span class="pre">model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'gemini_chat'</span></em><a class="headerlink" href="#agentscope.models.gemini_model.GeminiChatWrapper.model_type" title="Link to this definition"></a></dt>
<dd><p>The type of the model, which is used in model configuration.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.models.gemini_model.GeminiEmbeddingWrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentscope.models.gemini_model.</span></span><span class="sig-name descname"><span class="pre">GeminiEmbeddingWrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentscope/models/gemini_model.html#GeminiEmbeddingWrapper"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.gemini_model.GeminiEmbeddingWrapper" title="Link to this definition"></a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.models.gemini_model.GeminiWrapperBase" title="agentscope.models.gemini_model.GeminiWrapperBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeminiWrapperBase</span></code></a></p>
<p>The wrapper for Google Gemini embedding model,
e.g. models/embedding-001</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.gemini_model.GeminiEmbeddingWrapper.model_type">
<span class="sig-name descname"><span class="pre">model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'gemini_embedding'</span></em><a class="headerlink" href="#agentscope.models.gemini_model.GeminiEmbeddingWrapper.model_type" title="Link to this definition"></a></dt>
<dd><p>The type of the model, which is used in model configuration.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.models.gemini_model.GeminiWrapperBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentscope.models.gemini_model.</span></span><span class="sig-name descname"><span class="pre">GeminiWrapperBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentscope/models/gemini_model.html#GeminiWrapperBase"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.gemini_model.GeminiWrapperBase" title="Link to this definition"></a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.models.model.ModelWrapperBase" title="agentscope.models.model.ModelWrapperBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelWrapperBase</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>The base class for Google Gemini model wrapper.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.gemini_model.GeminiWrapperBase.config_name">
<span class="sig-name descname"><span class="pre">config_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.models.gemini_model.GeminiWrapperBase.config_name" title="Link to this definition"></a></dt>
<dd><p>The name of the model configuration.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentscope.models.gemini_model.GeminiWrapperBase.list_models">
<span class="sig-name descname"><span class="pre">list_models</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Sequence</span></span></span><a class="reference internal" href="_modules/agentscope/models/gemini_model.html#GeminiWrapperBase.list_models"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.gemini_model.GeminiWrapperBase.list_models" title="Link to this definition"></a></dt>
<dd><p>List all available models for this API calling.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.gemini_model.GeminiWrapperBase.model_name">
<span class="sig-name descname"><span class="pre">model_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.models.gemini_model.GeminiWrapperBase.model_name" title="Link to this definition"></a></dt>
<dd><p>The name of the model, which is used in model api calling.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.gemini_model.GeminiWrapperBase.model_type">
<span class="sig-name descname"><span class="pre">model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.models.gemini_model.GeminiWrapperBase.model_type" title="Link to this definition"></a></dt>
<dd><p>The type of the model wrapper, which is to identify the model wrapper
class in model configuration.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-agentscope.models.post_model">
<span id="post-model-module"></span><h2>post_model module<a class="headerlink" href="#module-agentscope.models.post_model" title="Link to this heading"></a></h2>
<p>Model wrapper for post-based inference apis.</p>
<dl class="py class">
<dt class="sig sig-object py" id="agentscope.models.post_model.PostAPIChatWrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentscope.models.post_model.</span></span><span class="sig-name descname"><span class="pre">PostAPIChatWrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2048</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_retries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">messages_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'inputs'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_interval</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentscope/models/post_model.html#PostAPIChatWrapper"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.post_model.PostAPIChatWrapper" title="Link to this definition"></a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.models.post_model.PostAPIModelWrapperBase" title="agentscope.models.post_model.PostAPIModelWrapperBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">PostAPIModelWrapperBase</span></code></a></p>
<p>A post api model wrapper compatilble with openai chat, e.g., vLLM,
FastChat.</p>
<dl class="py method">
<dt class="sig sig-object py" id="agentscope.models.post_model.PostAPIChatWrapper.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MessageBase</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">MessageBase</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/agentscope/models/post_model.html#PostAPIChatWrapper.format"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.post_model.PostAPIChatWrapper.format" title="Link to this definition"></a></dt>
<dd><p>Format the input messages into a list of dict, which is
compatible to OpenAI Chat API.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>args</strong> (<cite>Union[MessageBase, Sequence[MessageBase]]</cite>) – The input arguments to be formatted, where each argument
should be a <cite>Msg</cite> object, or a list of <cite>Msg</cite> objects.
In distribution, placeholder is also allowed.</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>The formatted messages.</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>Union[List[dict]]</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.post_model.PostAPIChatWrapper.model_type">
<span class="sig-name descname"><span class="pre">model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'post_api_chat'</span></em><a class="headerlink" href="#agentscope.models.post_model.PostAPIChatWrapper.model_type" title="Link to this definition"></a></dt>
<dd><p>The type of the model wrapper, which is to identify the model wrapper
class in model configuration.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.models.post_model.PostAPIDALLEWrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentscope.models.post_model.</span></span><span class="sig-name descname"><span class="pre">PostAPIDALLEWrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2048</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_retries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">messages_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'inputs'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_interval</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentscope/models/post_model.html#PostAPIDALLEWrapper"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.post_model.PostAPIDALLEWrapper" title="Link to this definition"></a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.models.post_model.PostAPIModelWrapperBase" title="agentscope.models.post_model.PostAPIModelWrapperBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">PostAPIModelWrapperBase</span></code></a></p>
<p>A post api model wrapper compatible with openai dalle</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.post_model.PostAPIDALLEWrapper.deprecated_model_type">
<span class="sig-name descname"><span class="pre">deprecated_model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'post_api_dalle'</span></em><a class="headerlink" href="#agentscope.models.post_model.PostAPIDALLEWrapper.deprecated_model_type" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentscope.models.post_model.PostAPIDALLEWrapper.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MessageBase</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">MessageBase</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></span><a class="reference internal" href="_modules/agentscope/models/post_model.html#PostAPIDALLEWrapper.format"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.post_model.PostAPIDALLEWrapper.format" title="Link to this definition"></a></dt>
<dd><p>Format the input string or dict into the format that the model
API required.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.post_model.PostAPIDALLEWrapper.model_type">
<span class="sig-name descname"><span class="pre">model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'post_api_dall_e'</span></em><a class="headerlink" href="#agentscope.models.post_model.PostAPIDALLEWrapper.model_type" title="Link to this definition"></a></dt>
<dd><p>The type of the model wrapper, which is to identify the model wrapper
class in model configuration.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.models.post_model.PostAPIModelWrapperBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentscope.models.post_model.</span></span><span class="sig-name descname"><span class="pre">PostAPIModelWrapperBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2048</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_retries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">messages_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'inputs'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_interval</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/agentscope/models/post_model.html#PostAPIModelWrapperBase"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.post_model.PostAPIModelWrapperBase" title="Link to this definition"></a></dt>
<dd><p>基类：<a class="reference internal" href="#agentscope.models.model.ModelWrapperBase" title="agentscope.models.model.ModelWrapperBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelWrapperBase</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>The base model wrapper for the model deployed on the POST API.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.models.post_model.PostAPIModelWrapperBase.model_type">
<span class="sig-name descname"><span class="pre">model_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'post_api'</span></em><a class="headerlink" href="#agentscope.models.post_model.PostAPIModelWrapperBase.model_type" title="Link to this definition"></a></dt>
<dd><p>The type of the model wrapper, which is to identify the model wrapper
class in model configuration.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-agentscope.models">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-agentscope.models" title="Link to this heading"></a></h2>
<p>Import modules in models package.</p>
<dl class="py function">
<dt class="sig sig-object py" id="agentscope.models.clear_model_configs">
<span class="sig-prename descclassname"><span class="pre">agentscope.models.</span></span><span class="sig-name descname"><span class="pre">clear_model_configs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/agentscope/models.html#clear_model_configs"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.clear_model_configs" title="Link to this definition"></a></dt>
<dd><p>Clear the loaded model configs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="agentscope.models.load_model_by_config_name">
<span class="sig-prename descclassname"><span class="pre">agentscope.models.</span></span><span class="sig-name descname"><span class="pre">load_model_by_config_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#agentscope.models.model.ModelWrapperBase" title="agentscope.models.model.ModelWrapperBase"><span class="pre">ModelWrapperBase</span></a></span></span><a class="reference internal" href="_modules/agentscope/models.html#load_model_by_config_name"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.load_model_by_config_name" title="Link to this definition"></a></dt>
<dd><p>Load the model by config name.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="agentscope.models.read_model_configs">
<span class="sig-prename descclassname"><span class="pre">agentscope.models.</span></span><span class="sig-name descname"><span class="pre">read_model_configs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">configs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear_existing</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/agentscope/models.html#read_model_configs"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#agentscope.models.read_model_configs" title="Link to this definition"></a></dt>
<dd><p>read model configs from a path or a list of dicts.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>configs</strong> (<cite>Union[str, list, dict]</cite>) – The path of the model configs | a config dict | a list of model
configs.</p></li>
<li><p><strong>clear_existing</strong> (<cite>bool</cite>, defaults to <cite>False</cite>) – Whether to clear the loaded model configs before reading.</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>The model configs.</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>dict</cite></p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="agentscope.memory.html" class="btn btn-neutral float-left" title="Memory package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="agentscope.pipelines.html" class="btn btn-neutral float-right" title="Pipelines package" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2024, Alibaba Tongyi Lab。</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>